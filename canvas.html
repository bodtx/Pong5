<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="600" height="400" style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<script type="text/javascript">
function Player() {
  this.color="#00A";
  this.x= 0;
  this.y= 0;
  this.width= 32;
  this.height= 200;
  this.draw=Draw;
  



  function Draw() {
    cxt.fillStyle = this.color;
    cxt.fillRect(this.x, this.y, this.width, this.height);
  }
}

var planet = {
  color: "#0AA",
  x: 220,
  y: 270,
  radius: 20,
  width: 40,
  height: 40,
  
  score:0,
  draw: function() {
	cxt.beginPath();
    cxt.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
 
    cxt.fillStyle = "#8ED6FF";
    cxt.fill();
    cxt.lineWidth = 2;
    cxt.strokeStyle = "black";
    cxt.stroke();
	cxt.closePath();
	
	
	


	

  }
};
/*
img = new Image();   // Create new img element   

img.src = 'franck.jpeg'; // Set source path
var planet = {
  color: "#0AA",
  x: 220,
  y: 270,
  radius: 20,
  width: img.width,
  height: img.height,
  
  score:0,
  draw: function() {
	cxt.beginPath();
    cxt.drawImage(img, planet.x, planet.y)
	cxt.closePath();
	
	
	


	

  }
};

*/




i=0;
var c=document.getElementById("myCanvas");
var cxt=c.getContext("2d");
/*c.addEventListener("mousemove", function(e){
                x=e.clientX;
				y=e.clientY;
            });*/
window.addEventListener("keydown", function(e){
	if(e.keyCode == 38) {/* Up arrow was pressed */
		up=true;
		}
	if(e.keyCode == 40) {/* Down arrow was pressed */
		down=true;
		}
	if(e.keyCode == 37) {/* Left arrow was pressed */
		left=true;
		}
	if(e.keyCode == 39) {/* Left arrow was pressed */
		right=true;
		}

});
window.addEventListener("keyup", function(e){
	
	if(e.keyCode == 37) {/* Left arrow was pressed */
		left=false;
		}
	if(e.keyCode == 38) {/* Up arrow was pressed */
		up=false;
		}
	if(e.keyCode == 40) {/* Down arrow was pressed */
		down=false;
		}
	if(e.keyCode == 39) {/* Left arrow was pressed */
		right=false;
		}
	

});
var left=false;
var right=false;
var up=false;
var down=false;


var col1=false;
var col2=false;
var player1 = new Player();
var player2 = new Player();
player1.x= 20;
player1.y= 150;
player2.x= 600-32-20;
player2.y= 150;


function timer(){
	
	
	cxt.clearRect ( 0 , 0 , 600 , 400 );
	//cxt.fillStyle="#FF0000";//rouge
	//cxt.fillRect(0+i%100,0+i%100,150,75);
	//i++;
	//cxt.fillRect(x,y,150,75);
	if(left==true)
		player1.y=player1.y-5;
	if(right==true)
		player1.y=player1.y+5;
	if(up==true)
		player2.y=player2.y-5;
	if(down==true)
		player2.y=player2.y+5;
	
	player1.draw();
	player2.draw();
	planet.draw();
	

	


	
	

	
//------------------------
/*	cxt.save();


	cxt.translate(c.width / 2, 0);
	cxt.rotate(Math.PI/4);
	
	cxt.fillStyle="#0000FF";//bleu
	cxt.fillRect(x,y,150,75);
	cxt.restore();
	cxt.translate(200,0);
	cxt.fillStyle="#00FF00";//vert
	cxt.fillRect(x,y,150,75);*/
	
	if(collides(player1,planet))
	{
		col1 = true;
		col2 = false;
	}
	if(collides(player2,planet))
	{
		col2 = true;
		col1 = false;
	}
	
	
	if(col1)
	{
		planet.x=planet.x+4;
	}
	else
	{
		planet.x=planet.x-4;
	}
	
	
	setTimeout("timer()",33);
}
timer();

function collides(a, b) {
  return a.x < b.x-b.radius + b.width &&
         a.x + a.width > b.x-b.radius &&
         a.y < b.y + b.height &&
         a.y + a.height > b.y;
}

</script>

</body>
</html>